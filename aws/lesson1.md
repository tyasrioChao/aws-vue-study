# 1. 创建AWS账号
  
注册时需要使用信用卡,其余的没有什么特殊的操作，正常注册。  
新注册的账户拥有1年的免费套餐，在一定限度内可是使用一部分服务。(EC2,S3...)
  
  
# 2. IAM的介绍与设定
  
在登陆到AWS控制台后，屏幕中央的查找服务处，输入IAM并跳转。  

## 2.1 画面介绍(访问管理)

左侧的菜单中，从上至下依次介绍访问管理的作用。另外一个访问报告及以下不作详细说明。
* 组 创建一个group，可以添加权限。比如创建一个开发group，为其赋予Ec2的访问权限，所属于这个组的用户便可以访问Ec2
* 用户 在根账户下添加子账户。子账号才可以使用访问密钥(这个密钥可以在本地远程调用AWS服务)
* 角色 拥有特定的策略，使得没有该策略得账户，服务获得策略。例如，用户A是开发人员并没有查看VPC设定得权限，但是有一个运维的角色，切换至该角色后便可以访问该服务(这个针对于AWS控制台，本地调用的话无法切换角色)，又比如EC2现在想调用S3，就可以为EC2添加一个S3FullAccess角色
* 策略 实际上能否调用的设置。上面讲到的组和角色都是为其添加策略才能够正常使用的
* 身份提供商 添加第三方登录器来登录AWS控制台。例→[Google アカウントで AWS にログインする](https://qiita.com/nagizero/items/ba69212a5dc4ec8daeed)
* 账户设置 修改账户的密码策略，STS的区域修改。STS是实际APP的用户登录后访问AWS用的

## 2.2 安全状态设定

新注册的用户再进入IAM服务的页面后，可以看到安全状态处的后4项都处于⚠zhu'yi的状态。  
需要注意的是 对您的根账户激活MFA和创建单独的IAM用户 这两条。MFA的创建根据画面的引导自行添加，现在介绍两种工具，PC端的WinAuth和移动端的Authenticator,具体使用不多做介绍。

## 2.3 IAM服务在其他服务中的使用
介绍几种我在实际开发中遇见的方式。

* 直接使用策略 这个常见于S3的bucket，比如为bucket添加IP范围的访问限制，是否可以存取文件等。
* 使用角色 大部分的服务都是使用这种方式，比如在Cognito中为Cognito Group添加角色，使得实际的系统用户的excute-api得到控制。为Lambda添加角色，可以使得在编程中调用别的服务。

## 2.4 注意事项

更多注意事项请参照👉[AWS IAM 常见问题](https://aws.amazon.com/cn/iam/faqs/?nc1=h_ls)

* 一个角色最大添加10种托管策略(即你在策略处显示的策略)
* 访问密钥只存在于开发时，不能将其暴露
* 根账户无法创建凭证与密钥





